% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_dml.R
\name{make_stratified_folds}
\alias{make_stratified_folds}
\title{Stratified K-fold splits for cross-fitting
Quickly builds \emph{train} and \emph{test} index lists that preserve the class
proportions of a categorical variable in every fold}
\usage{
make_stratified_folds(data, strat_col, n_folds = 2, seed = NULL)
}
\arguments{
\item{data}{A \code{data.frame} / \code{data.table} with at least the column named
in \code{strat_col}. This comes from preprocessing steps.}

\item{strat_col}{Character scalar. Column used for stratification (e.g.
\code{"subgroup"}).}

\item{n_folds}{Integer ≥ 2. Number of folds. Default is 2.}

\item{seed}{Optional integer. If supplied, the function calls
\code{set.seed()} for reproducible splits.}
}
\value{
A list with two components — \code{test_ids} and \code{train_ids} — each a
length-K list of integer vectors.  This is the exact structure
expected by \code{DoubleML}:
\preformatted{
        splits$train_ids[[j]]  # rows used to fit learners   (fold j)
        splits$test_ids [[j]]  # rows used to compute scores (fold j)
        }
}
\description{
Stratified K-fold splits for cross-fitting
Quickly builds \emph{train} and \emph{test} index lists that preserve the class
proportions of a categorical variable in every fold
}
\keyword{internal}

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compute Aggregated Treatment Effect Parameters — compute_aggregation • triplediff</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute Aggregated Treatment Effect Parameters — compute_aggregation"><meta name="description" content="Does the heavy lifting on computing aggregated group-time
average treatment effects"><meta property="og:description" content="Does the heavy lifting on computing aggregated group-time
average treatment effects"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">triplediff</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/marcelortizv/triplediff"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compute Aggregated Treatment Effect Parameters</h1>

      <div class="d-none name"><code>compute_aggregation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Does the heavy lifting on computing aggregated group-time
average treatment effects</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_aggregation</span><span class="op">(</span></span>
<span>  <span class="va">ddd_obj</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  cluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  balance_e <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_e <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  max_e <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  boot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nboot <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cband <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ddd-obj">ddd_obj<a class="anchor" aria-label="anchor" href="#arg-ddd-obj"></a></dt>
<dd><p>a ddd object (i.e., the results of the <code><a href="ddd.html">ddd()</a></code> function)</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Which type of aggregated treatment effect parameter to compute.
<code>"simple"</code> just computes a weighted average of all
group-time average treatment effects with weights proportional to group
size.
<code>"eventstudy"</code> computes average effects across
different lengths of exposure to the treatment (event times). Here the overall effect averages the effect of the
treatment across the positive lengths of exposure. This is the default option;
<code>"group"</code> computes average treatment effects across different groups/cohorts; here
the overall effect averages the effect across different groups using group size as weights;
<code>"calendar"</code> computes average treatment effects across different
time periods, with weights proportional to the group size; here the overall effect averages the effect across each
time period.</p></dd>


<dt id="arg-cluster">cluster<a class="anchor" aria-label="anchor" href="#arg-cluster"></a></dt>
<dd><p>The name of the variable to be used for clustering. The maximum number of cluster variables is 1. Default is <code>NULL</code>.</p></dd>


<dt id="arg-balance-e">balance_e<a class="anchor" aria-label="anchor" href="#arg-balance-e"></a></dt>
<dd><p>If set (and if one computes event study), it balances
the sample with respect to event time.  For example, if <code>balance_e=2</code>,
<code>agg_ddd</code> will drop groups that are not exposed to treatment for
at least three periods, the initial period <code>e=0</code> as well as the
next two periods, <code>e=1</code> and <code>e=2</code>.  This ensures that
the composition of groups does not change when event time changes.</p></dd>


<dt id="arg-min-e">min_e<a class="anchor" aria-label="anchor" href="#arg-min-e"></a></dt>
<dd><p>For event studies, this is the smallest event time to compute
dynamic effects for.  By default, <code>min_e = -Inf</code> so that effects at
all lengths of exposure are computed.</p></dd>


<dt id="arg-max-e">max_e<a class="anchor" aria-label="anchor" href="#arg-max-e"></a></dt>
<dd><p>For event studies, this is the largest event time to compute
dynamic effects for.  By default, <code>max_e = Inf</code> so that effects at
all lengths of exposure are computed.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Logical value if we are to remove missing Values from analyses. Defaults is FALSE.</p></dd>


<dt id="arg-boot">boot<a class="anchor" aria-label="anchor" href="#arg-boot"></a></dt>
<dd><p>Boolean for whether or not to compute standard errors using
the multiplier bootstrap.  If standard errors are clustered, then one
must set <code>boot=TRUE</code>. Default is value set in the ddd object.  If <code>boot = FALSE</code>, then analytical
standard errors are reported.</p></dd>


<dt id="arg-nboot">nboot<a class="anchor" aria-label="anchor" href="#arg-nboot"></a></dt>
<dd><p>The number of bootstrap iterations to use.  The default is the value set in the ddd object,
and this is only applicable if <code>boot=TRUE</code>.</p></dd>


<dt id="arg-cband">cband<a class="anchor" aria-label="anchor" href="#arg-cband"></a></dt>
<dd><p>Boolean for whether or not to compute a uniform confidence
band that covers all of the group-time average treatment effects
with fixed probability <code>1 - alpha</code>.  In order to compute uniform confidence
bands, <code>boot</code> must also be set to <code>TRUE</code>.  The default is
the value set in the ddd object</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>The level of confidence for the confidence intervals.  The default is 0.05. Otherwise, it will
use the value set in the ddd object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Aggregation object (list) of class <code><a href="agg_ddd.html">agg_ddd</a></code></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://marcelortiz.com/" class="external-link">Marcelo Ortiz-Villavicencio</a>, <a href="https://psantanna.com/" class="external-link">Pedro H. C. Sant’Anna</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

